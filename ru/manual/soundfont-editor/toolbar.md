Панель инструментов в верхней части редактора содержит значки:

* частых [функций редактирования](#doc_edit),
* переключения [представления](#doc_view) в редакторах,
* отображения [рекордера](#doc_recorder),
* отображения [виртуальной клавиатуры](#doc_keyboard).


![анель инструментов](images/toolbar.png "анель инструментов")


## Функции редактирования {#doc_edit}


Значки слева выполняют ходовые функции редактирования:

![sample](images/toolbar_sample.png "sample"){.inline} Новый семпл
: Добавить новые [семплы](manual/soundfont-editor/editing-pages/sample-editor.md) в SoundFont.
  Polyphone импортирует звуковые файлы в форматах :file:`.wav` и :file:`.flac`.

![instrument](images/toolbar_instrument.png "instrument"){.inline} Новый инструмент
: Создать новый [инструмент](manual/soundfont-editor/editing-pages/instrument-editor.md).

![preset](images/toolbar_preset.png "preset"){.inline} Новый пресет
: Cоздать новый [пресет](manual/soundfont-editor/editing-pages/preset-editor.md).

![tools](images/toolbar_toolbox.png "tools"){.inline} Средства
: В этом меню перечисляются [средства](manual/soundfont-editor/tools/index.md), доступные для выбранных в [дереве](manual/soundfont-editor/tree.md) элементов.

![undo](images/toolbar_undo.png "undo"){.inline} Отменить
: Отменить последние изменения.

![redo](images/toolbar_redo.png "redo"){.inline} Повторить
: Повторить последние отменённые изменения.

![save](images/toolbar_save.png "save"){.inline} Сохранить файл
: Сохранить SoundFont.


## Переключение представления {#doc_view}


Значки справа переключают представление информации в зависимости от редактора](manual/soundfont-editor/editing-pages/index.md):

* при редактировании инструмента переключайтесь между ![table](images/toolbar_table.png "table"){.inline} [табличным видом](manual/soundfont-editor/editing-pages/instrument-editor.md#doc_table), ![range](images/toolbar_range.png "range"){.inline} [редактором диапазонов](manual/soundfont-editor/editing-pages/instrument-editor.md#doc_range) и ![envelope](images/toolbar_adsr.png "envelope"){.inline} [редактором огибающей](manual/soundfont-editor/editing-pages/instrument-editor.md#doc_envelope),
* при редактировании пресета переключайтесь между ![table](images/toolbar_table.png "table"){.inline} табличным видом и ![range](images/toolbar_range.png "range"){.inline} редактором диапазонов,
* иначе ничего не отображается.


## Рекордер {#doc_recorder}


При нажатии на значок ![recorder](images/toolbar_recorder.png "recorder"){.inline} открывается рекордер, который записывает звук на выходе Polyphone.


![Рекордер](images/recorder.png "Рекордер")


Два возможных состояния левой кнопки:

Запись
: Начать новую запись, если запись остановлена.
  Введите имя файла, в который будет записываться звук.

Стоп
: Остановить запись.

При включённой записи правая кнопка находится в двух возможных состояния:

Пауза
: Приостановить запись.

Возобновление
: Возобновить запись.


## Виртуальная клавиатура {#doc_keyboard}


При нажатии на значок ![piano](images/toolbar_piano.png "piano"){.inline} открывается виртуальная клавиатура, которая предназначена для тестирования семплов, инструментов и пресетов.
Клавиатура посылает MIDI-сигналы:

* **нота вкл.** / **нота выкл.** / **послекасание** при помощи клавиш фортепиано,
* другие сигналы MIDI, если **область MIDI-контроллеров** открыта.


![Виртуальная клавиатура](images/virtual_keyboard.png "Виртуальная клавиатура")


### Клавиатура фортепиано


Клавиатура фортепиано посылает сигналы, которые содержат номера клавиш и силу нажатия.
Клавиатура управляется тремя способами:

с помощью мыши
: щёлкните по клавише мышью.
  Чем ниже щёлкните, тем сильнее будет звук.
  Если не отпускать кнопку мыши, то последующие движения в пределах клавиши вызовут сигналы послекасания.

с помощью клавиатуры компьютера
: используемые клавиши определяются в [настройках](manual/settings.md#doc_keyboard).

с помощью внешней MIDI-клавиатуры
: укажите вход MIDI в [настройках](manual/settings.md#doc_general).
  При этом клавиши на виртуальной клавиатуре будут показывать ноты, проигрываемые на MIDI-клавиатуре.


#### Маркеры и цвета


* Когда выбран [инструмент](manual/soundfont-editor/editing-pages/instrument-editor.md) или [пресет](manual/soundfont-editor/editing-pages/preset-editor.md) — область, не охваченная разделами, становится **серой**.
  Так визуализируется полный диапазон инструмента или пресета.
* Когда выбран раздел инструмента или пресета — его диапазон отображается так же, как и выше.
  Кроме того, его корневая клавиша обозначается **оранжевым маркером**.
* Когда на клавиатуре нажата клавиша — она отображается **синим цветом** или цветом выделения, указанным в [настройках](manual/settings.md#doc_interface) программы.
  Диапазон, в который входит эта клавиша, отображается **голубым цветом**.
  Это относится только к уровню инструмента.
* Среднее До (клавиша 60) обозначается **чёрным маркером**.


#### Полезные сочетания клавиш


:kbd:`Ctrl`+:kbd:`K`
: Переключиться на виртуальную клавиатуру.
  Так, при редактировании таблицы можно воспроизводить ноты вместо того, чтобы редактировать ячейку.
  Эффект свечения на виртуальной клавиатуре подтверждает, что она ждёт нажатия клавиш.

:kbd:`Ctrl`+:kbd:`1`, :kbd:`Ctrl`+:kbd:`2`, … :kbd:`Ctrl`+:kbd:`8`
: Изменить октавы компьютерной клавиатуры.
  Самая нижняя октава — :kbd:`Ctrl`+:kbd:`1`.
  Самая высокая октава — :kbd:`Ctrl`+:kbd:`8`.

:kbd:`→` / :kbd:`←`
: Воспроизвести ноту выше или ниже, чем последняя нажатая клавиша, с той же силой нажатия.
  Если при этом удерживать клавишу :kbd:`Shift`, то можно перескочить через клавишу.

:kbd:`↑` / :kbd:`↓`
: Воспроизвести ту же ноту, что и у последней нажатой клавиши, но с большей или меньшей силой нажатия.
  Если при этом удерживать клавишу :kbd:`Shift`, то можно пропустить значения силы нажатия.


### MIDI-контроллеры


Область MIDI-контроллеров показывается или скрывается при нажатии на стрелку, расположенную снизу справа.
Если играете с модуляторами, используйте эту область для проверки SoundFont.


![Виртуальная клавиатура с MIDI-контроллерами](images/virtual_keyboard_2.png "Виртуальная клавиатура с MIDI-контроллерами")


Эта область состоит из таких элементов:

Регулятор тона
: Увеличивает или уменьшает высоту тона.
  Автоматически возвращается в исходное нулевое положение.

Чувствительность
: Определяет диапазон в полутонах, на сколько будет изменяться регулятор тона.
  Значение по умолчанию — 2, один полный тон.

Давление
: Сила нажатия на клавиатуру.
  Давление работает так же как послекасание, но послекасание специфично для клавиши, а давление — глобально для клавиатуры.

Ручки
: Три ручки управления произвольными MIDI-контроллерами.
  Для каждой ручки указывается номер контроллера и устанавливается значение.

Кнопка
: Устанавливает значение MIDI-контроллера в 0 или 127 — так работает педаль сустейна.
  Кнопка — частный случай ручки с двумя возможными значениями.



*[MIDI]: Musical Instrument Digital Interface