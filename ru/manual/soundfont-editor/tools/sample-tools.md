Если в [дереве][tree] выбран один или несколько семплов, [меню инструментов][tools] содержит несколько средств, отсортированных по четырём категориям:

* [Анализ](#doc_cat_analyze),
* [Файлы](#doc_cat_files),
* [Обработка семпла](#doc_cat_processing),
* [Стерео-семплы](#doc_cat_stereo).

Можно использовать средства одновременно с несколькими семплами (при множественном выборе).


## Анализ {#doc_cat_analyze}


### Показать пиковые частоты {#doc_peakfrequencies}


Это средство собирает информацию о пиковых частотах всех выбранных семплов, и может экспортировать результаты в файл .csv.
Пиковые частоты видны на странице редактирования [семплов][s-editor-freq].


![Отображение пиковых частот](images/tool_show_peak_frequencies.png "Отображение пиковых частот")


## Файлы {#doc_cat_files}


### Экспортировать в wav {#doc_wavexport}


После того, как вы укажете каталог назначения, все выбранные семплы будут экспортированы в файлы .wav.


## Обработка семпла {#doc_cat_processing}


### Авто-петля {#doc_autoloop}


Программа ищет стабильную область семпла, а затем искусственно создает петлю.
Звуковой сегмент копируется с перекрёстным затуханием, поэтому переход в месте стыка будет максимально плавным.

Чтобы назначить точки петли автоматически:

1. щёлкните в [дереве][tree] по семплу, который нужно зациклить,
2. на странице редактирования [семплов][s-editor]:
  * укажите начало и конец петли на графике (в области отображения WAV) в районе стабильной области, или
  * позвольте программе автоматически определить стабильную область, указав 0 в качестве начала и конца петли,
3. в меню :guilabel:`Инструменты` выберите :guilabel:`Семпл`, :guilabel:`Авто-петля`,
4. нажмите кнопку :guilabel:`Воспроизведение` с поставленной галочкой :guilabel:`петля`,
5. если найденные точки петли вас не устраивают, можно [отменить][toolbar-edit] операцию, попробовать повторно установить их вручную в районе стабильной области, и затем снова использовать функцию :guilabel:`Авто-петля`.

Программа должна найти стабильную область длительностью не менее 0,25 секунд.
Если это не удается, выдаётся предупреждение о том, что петля не найдена.
В этом случае можно вручную указать стабильную область длительностью не менее 0,25 секунд и повторить попытку или попытаться найти точки петли вручную.

<!-- warning begin -->
**Предупреждение:**
Это средство изменяет исходный семпл.
Изменения можно отменить с помощью функции «[отмена][toolbar-edit]», но если сохранить файл и закрыть Polyphone, пути назад уже не будет.
<!-- warning end -->

<!-- note begin -->
**Примечание:**
По умолчанию зацикливание в инструменте отключено.
Чтобы услышать его, нужно выбрать значок ![loop on][loop_on] в строке :guilabel:`Играть петлю` в столбце :guilabel:`Глобальные` или в отдельных столбцах разделов инструмента в :guilabel:`Таблице параметров`.
![loop on][loop_on] включает петлю, ![loop off][loop_off] выключает её.
![loop on and end][loop_on_end] включает петлю, а после отпускания клавиши семпл будет проигран до конца.
<!-- note end -->


### Изменить громкость {#doc_volume}


Можно изменить громкость тремя разными способами:

* добавив определённое количество дБ (как положительное так или отрицательное значение),
* умножив сигнал на число,
* нормализовав сигнал таким образом, чтобы его максимум составлял некоторый процент от максимальной интенсивности.


![Изменение громкости](images/tool_change_volume.png "Изменение громкости")


### Внешняя команда {#doc_externalcommand}


Это средство позволяет использовать внешнюю команду или программу для редактирования семпла.
Больше не нужно экспортировать и повторно импортировать семпл в Polyphone, всё делается автоматически:

1. загрузите программу для редактирования wav-файлов, например, :program:`Audacity` или :program:`Sweep` (Linux),
2. выберите средство :guilabel:`Внешняя команда` для одного или нескольких семплов,
3. укажите командную строку в поле ввода для вызова внешней программы (может потребоваться прочитать документацию по этой программе),
4. отредактируйте семплы с помощью внешней программы,
5. сохраните в этой программе изменённую версию wav-файлов и закройте её,
6. семплы автоматически загрузятся в SoundFont.


![Запуск внешней команды](images/tool_external_command.png "Запуск внешней команды")


### Фильтровать частоты {#doc_filter}


При использовании этого средства отобразится окно с частотами, содержащимися в выбранных вами семплах.
Мышью можно нарисовать красную область.
Всё, что находится в этой области, будет удалено: это означает, что вы можете вручную приглушить или полностью удалить некоторые частоты.


![Фильтрация частот](images/tool_filter_frequencies.png "Фильтрация частот")


<!-- note begin -->
**Примечание:**
Этот фильтр не для широкого использования, так как он жёстко обрезает частоты.
Это средство может быть полезно, чтобы создать «непробиваемый» фильтр, но в большинстве случаев вы, вероятно, захотите использовать [эквалайзер][s-editor-eq].
<!-- note end -->


### Убрать тишину в начале {#doc_removeblank}


Удаляется любая пустая область перед началом семпла.
Это сокращает время до того, как семпл начнёт звучать.


![Удаление тишины в начале](images/remove_blank.png "Удаление тишины в начале")


<!-- note begin -->
**Примечание:**
Это средство может применяться автоматически при каждом импорте семпла, если задать это в [настройках][settings-general] программы.
<!-- note end -->


### Транспонировать {#doc_transpose}


Запрашивается сдвиг в полутонах, а затем звук повторно сэмплируется для изменения высоты тона.


![Транспонирование](images/tool_transpose_smpl.png "Транспонирование")


### Обрезать до конца петли {#doc_trimloop}


Если для выбранного семпла задана петля, программа обрежет звук после окончания петли (оставив небольшое поле в конце).


![Обрезание петли](images/trim_to_loop.png "Обрезание петли")


<!-- note begin -->
**Примечание:**
Это средство может применяться автоматически при каждом импорте семпла, если задать это в [настройках][settings-general] программы.
<!-- note end -->


## Стерео-семплы {#doc_cat_stereo}


### Настройка баланса {#doc_balance}


Если один семпл связан с другим (стерео), программа может отрегулировать баланс, выровняв среднюю интенсивность двух семплов.
Это упростит точное панорамирование семпла в [инструменте][i-editor].


### Связать все стерео-семплы {#doc_link}


Из всех выбранных семплов автоматически связываются те, названия которых отличаются только последней буквой (R/L).
Например, если в SoundFont два семпла называются ``bassoon45L`` и ``bassoon45R``, то ``bassoon45L`` будет распознан как левая часть ``bassoon45R``, а ``bassoon45R`` будет распознан как правая часть ``bassoon45L``.

Учитывая эту информацию, при добавлении этих семплов в инструмент, будет использоваться правильное панорамирование.
Вы также можете одновременно редактировать левую и правую части инструмента в [таблице][i-editor-table], если в [настройках][settings-general] включена стерео-правка.

<!-- warning begin -->
**Предупреждение:**
Это средство может поломать существующие ссылки, если имена не соответствуют указанному выше правилу.
<!-- warning end -->


### Убрать связи со всех стерео-семплов {#doc_unlink}


Со всех выбранных семплов (стерео) убираются связи.

Таким образом, все семплы будут обрабатываться как монофонические звуки, и все они будут иметь одинаковое панорамирование при добавлении в инструмент.
Стерео-правка, если она включена в [настройках][settings-general], больше не будет применяться.


[loop_off]:    images/loop_off.png    "loop off"        {.inline}
[loop_on]:     images/loop_on.png     "loop on"         {.inline}
[loop_on_end]: images/loop_on_end.png "loop on and end" {.inline}

[i-editor-table]:   manual/soundfont-editor/editing-pages/instrument-editor.md#doc_table
[i-editor]:         manual/soundfont-editor/editing-pages/instrument-editor.md
[s-editor-eq]:      manual/soundfont-editor/editing-pages/sample-editor.md#doc_eq
[s-editor-freq]:    manual/soundfont-editor/editing-pages/sample-editor.md#doc_freq
[s-editor]:         manual/soundfont-editor/editing-pages/sample-editor.md
[settings-general]: manual/settings.md#doc_general
[toolbar-edit]:     manual/soundfont-editor/toolbar.md#doc_edit
[tools]:            manual/soundfont-editor/tools/index.md
[tree]:             manual/soundfont-editor/tree.md
